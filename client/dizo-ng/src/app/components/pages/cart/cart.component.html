<app-navbar-style-one></app-navbar-style-one>

<section class="cart-wraps-area ptb-100">
    <div class="container">
        <form>
            <div class="row">
                <div
                    class="col-sm-12 cart-wraps pe-5"
                    [ngClass]="isCartEmpty ? 'col-md-12' : 'col-md-8'"
                >
                    <div class="cart-table table-responsive">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">Product</th>
                                    <th scope="col">Name</th>
                                    <th scope="col">Unit Price</th>
                                    <th scope="col">Quantity</th>
                                    <th scope="col">Total</th>
                                </tr>
                            </thead>

                            <!-- show this if cart is empty -->
                            <ng-container *ngIf="isCartEmpty; else cartItems">
                                <tbody>
                                    <tr>
                                        <td colspan="5">
                                            <p class="text-start my-2">
                                                Your cart is empty
                                                <a
                                                    class="text-decoration-underline"
                                                    routerLink="/product"
                                                    >Start Shopping</a
                                                >
                                            </p>
                                        </td>
                                    </tr>
                                </tbody>
                            </ng-container>

                            <!-- cart product items start -->
                            <ng-template #cartItems>
                                <tbody>
                                    <ng-container *ngFor="let item of cart[1]">
                                        <tr>
                                            <td class="product-thumbnail">
                                                <a routerLink="/product-details"
                                                    ><img
                                                        [src]="item.productImg"
                                                        alt="Image"
                                                /></a>
                                            </td>

                                            <td class="product-name">
                                                <a
                                                    routerLink="/product-details"
                                                    >{{ item.name }}</a
                                                >
                                            </td>

                                            <td class="product-price">
                                                <span class="unit-amount">{{
                                                    item.unitPrice | currency
                                                }}</span>
                                            </td>

                                            <td class="product-quantity">
                                                <div class="input-counter">
                                                    <span
                                                        class="minus-btn"
                                                        (click)="
                                                            updateProductItemQty(
                                                                '-'
                                                            )
                                                        "
                                                    >
                                                        <i
                                                            class="bx bx-minus"
                                                        ></i>
                                                    </span>
                                                    <input
                                                        type="text"
                                                        minlength="1"
                                                        maxlength="3"
                                                        [(value)]="item.qty"
                                                    />
                                                    <span
                                                        class="plus-btn"
                                                        (click)="
                                                            updateProductItemQty(
                                                                '+'
                                                            )
                                                        "
                                                    >
                                                        <i
                                                            class="bx bx-plus"
                                                        ></i>
                                                    </span>
                                                </div>

                                                <!-- qty update button start -->
                                                <!-- <div class="d-block qty-update-btn">
                                                <button
                                                    type="button"
                                                    class="btn btn-link"
                                                >
                                                    Update
                                                </button>
                                            </div>  -->
                                                <!-- qty update button end -->
                                            </td>

                                            <td class="product-subtotal">
                                                <span class="subtotal-amount">{{
                                                    item.total | currency
                                                }}</span>
                                                <a
                                                    routerLink="/cart"
                                                    class="remove"
                                                    ><i class="bx bx-trash"></i
                                                ></a>
                                            </td>
                                        </tr>
                                    </ng-container>
                                </tbody>
                            </ng-template>
                            <!-- cart product items end -->
                        </table>
                    </div>

                    <div
                        class="cart-buttons d-flex justify-content-between flex-wrap"
                    >
                        <!-- <div class="update-qty-box" [hidden]="isCartEmpty">
                            <a routerLink="/cart" class="default-btn small"
                                >Update Quantities</a
                            >
                        </div> -->
                        <div class="update-qty-box" [hidden]="isCartEmpty">
                            <a routerLink="/cart" class="default-btn small"
                                >Clear Cart</a
                            >
                        </div>
                    </div>
                </div>

                <aside class="col-sm-12 col-md-4 ps-5" [hidden]="isCartEmpty">
                    <!-- cart totals start -->
                    <div class="col-lg-12">
                        <div class="cart-totals mt-0">
                            <h3>Cart Totals</h3>

                            <ul>
                                <li>
                                    Est. Subtotal
                                    <span>{{
                                        cart[0].subTotal | currency
                                    }}</span>
                                </li>
                                <li>
                                    Est. Shipping
                                    <span
                                        *ngIf="
                                            cart[0].total != 0.0;
                                            else freeShipping
                                        "
                                        >{{ cart[0].shipping | currency }}</span
                                    ><ng-template #freeShipping>
                                        <span>FREE</span>
                                    </ng-template>
                                </li>
                                <li>
                                    Est. Total
                                    <span
                                        ><b>{{ cart[0].total | currency }}</b>
                                    </span>
                                </li>
                            </ul>

                            <a routerLink="/checkout" class="default-btn w-100"
                                >Checkout</a
                            >
                            <p class="small">
                                You can review your order before it's final or
                                <a
                                    class="text-decoration-underline"
                                    routerLink="/product"
                                    >Continue Shopping</a
                                >
                            </p>
                        </div>
                    </div>
                    <!-- cart totals end -->

                    <!-- coupons start -->
                    <div class="col-lg-12">
                        <div class="cart-calc">
                            <div class="cart-wraps-form">
                                <div
                                    class="d-flex justify-content-between flex-wrap"
                                >
                                    <h3>Promotion</h3>
                                    <button
                                        type="button"
                                        class="btn btn-link btn-sm p-0 m-0"
                                        (click)="toggleHidePromotion()"
                                    >
                                        <p class="hide-btn">Hide</p>
                                    </button>
                                </div>

                                <div class="form-group">
                                    <input
                                        type="text"
                                        class="form-control"
                                        placeholder="Enter Coupon"
                                    />
                                </div>

                                <a
                                    routerLink="/cart"
                                    class="default-btn w-100 small"
                                    >Apply</a
                                >
                            </div>
                        </div>
                    </div>
                    <!-- coupons end -->
                </aside>
            </div>
        </form>
    </div>
</section>

<app-footer-style-two></app-footer-style-two>
